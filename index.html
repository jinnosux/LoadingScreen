<!DOCTYPE html>
<html lang="en">
<!-- 
Tony.Solar, Feb 12th 2021 - File Init
Tony.Solar, May 15th 2021 - Modified
Tony.Solar, July 12th 2021 - Added volume control via players cnr radio settings
jinnosuke, Sept 5th 2022 - Added background video, moved logo to top
jinnosuke, Sept 15th 2022 - Added fadein / opacity animations to logo and center elements, icons for socials, fixed some margins
jinnosuke, Sept 16th 2022 - Icon hovers, lower volume, other minor fixes
-->

<head>
	<meta charset="UTF-8">
	<title>CnR : Next Generation</title>
	<style type="text/css">
		@charset "UTF-8";

		html {
			height: 100%;
			background: #000;
			display: flex;
			background-repeat: no-repeat;
			background-size: cover;
		}

		a.hide:link,
		a.hide:active,
		a.hide:hover,
		a.hide:visited {
			color: #FCFCFC;
			cursor: default;
			text-decoration: none;
		}

		span.hide {
			position: absolute;
			right: 2px;
			top: 2px;
		}

		div.copy {
			position: absolute;
			bottom: 0;
			margin: auto;
			width: 100%;
			text-align: center;
			color: #CCC;
		}

		body {
			line-height: 20px;
			margin: 0;
			background-color: #2f3136;
			color: #FFF;
			font-family: verdana;
		}

		A:link,
		A:visited {
			font-family: verdana;
		}

		A:hover {
			color: red;
		}

		IMG {
			margin: auto;
			margin-top: 50px;
			display: block;
		}

		.cnrnglogo-dark-blue,
		.cnrnglogo-dark-purple,
		.cnrnglogo-limegreen,
		.cnrnglogo-orange,
		.cnrnglogo-piss-snow-yellow,
		.cnrnglogo-purple,
		.cnrnglogo-red,
		.cnrnglogo-teal {
			display: inline-block;
			background-size: cover;
			overflow: hidden;
			text-indent: -9999px;
			text-align: left;
		}

		.cnrnglogo {
			background-size: contain;
			border-top-left-radius: 5px;
			border-top-right-radius: 5px;
			width: 525px;
			height: 146px;
		}

		#main-container {
			position: fixed;
			top: 30%;
			left: 50%;
			margin-left: -19.75em;
			width: min-content;
		}

		#logo-container {
			position: fixed;
			top: 50%;
			left: 50%;
			transform: translate(-50%, -50%);
			width: 525px;
			height: 146px;
			-webkit-animation: expand 2s forwards;
			/* Safari, Chrome and Opera > 12.1 */
			-moz-animation: expand 2s forwards;
			/* Firefox < 16 */
			-ms-animation: expand 2s forwards;
			/* Internet Explorer */
			-o-animation: expand 2s forwards;
			/* Opera < 12.1 */
			animation: expand 2s forwards;
			animation-delay: 1s;
			opacity: 0;
		}

		.rules-table {
			border-radius: 5px;
			background-color: rgba(0, 0, 0, 0.7);
			width: 100%;
			padding: 5px;
			-webkit-animation: fadein 4s;
			/* Safari, Chrome and Opera > 12.1 */
			-moz-animation: fadein 4s;
			/* Firefox < 16 */
			-ms-animation: fadein 4s;
			/* Internet Explorer */
			-o-animation: fadein 4s;
			/* Opera < 12.1 */
			animation: fadein 4s;
		}

		.gradient-box {
			display: flex;
			align-items: center;
			min-width: 643px;
			position: relative;
			box-sizing: border-box;
			color: #FFF;
			background-color: rgba(0, 0, 0, 0.5);
			background-clip: padding-box;
			border: solid 5px transparent;
			border-radius: .5em;
			box-shadow: 0 0 8px #000;
		}

		.gradient-box-container {
			top: 0;
			right: 0;
			bottom: 0;
			left: 0;
			z-index: -1;
			margin: -5px;
			border-radius: inherit;
			background-color: #373740;
			background-image: repeating-linear-gradient(153deg, #413644 -18%, #4e4e4e -23%, red 25%, #0089ff 63%, #4E4E4F 90%);
			border-radius: .5em;
			-webkit-animation: fadein 3.5s;
			/* Safari, Chrome and Opera > 12.1 */
			-moz-animation: fadein 3.5s;
			/* Firefox < 16 */
			-ms-animation: fadein 3.5s;
			/* Internet Explorer */
			-o-animation: fadein 3.5s;
			/* Opera < 12.1 */
			animation: fadein 3.5s;
		}

		.AlertContent {
			vertical-align: middle;
			padding: 3px;
			height: 100%;
			margin: 0;
			position: relative;
			color: #f0f0f0;
			top: 0;
			text-align: center;
		}

		.AlertWrapper {
			height: 100%;
			position: relative;
			z-index: 0;
			background-color: rgba(0, 0, 0, 0.7);
			border-radius: .5em;
			box-shadow: 0 0 8px #000;
			text-align: center;
			color: #fff;
			margin: 0;
			display: block;
			padding: 5px;
			/* background-image: repeating-linear-gradient(var(--angle), rgba(0, 0, 0, var(--alvl)) 0px, rgba(0, 0, 0, var(--alvl)) 25px, rgba(244, 156, 4, var(--alvl)) 25px, rgba(244, 156, 4, var(--alvl)) var(--d)); */
			/* background-size: calc(var(--d)/var(--sinus)) 100%; */
			/* animation: AnimateThis 2s linear infinite reverse; */
			margin-top: 15px;
			-webkit-animation: fadein 4.5s;
			/* Safari, Chrome and Opera > 12.1 */
			-moz-animation: fadein 4.5s;
			/* Firefox < 16 */
			-ms-animation: fadein 4.5s;
			/* Internet Explorer */
			-o-animation: fadein 4.5s;
			/* Opera < 12.1 */
			animation: fadein 4.5s;
		}

		@keyframes AnimateThis {
			0% {
				background-position: calc(var(--d)/var(--sinus)) 0;
			}
		}

		@keyframes fadein {
			0% {
				opacity: 0;
			}

			66% {
				opacity: 0;
			}

			100% {
				opacity: 1;
			}
		}

		/* Firefox < 16 */
		@-moz-keyframes fadein {
			0% {
				opacity: 0;
			}

			66% {
				opacity: 0;
			}

			100% {
				opacity: 1;
			}
		}

		/* Safari, Chrome and Opera > 12.1 */
		@-webkit-keyframes fadein {
			0% {
				opacity: 0;
			}

			66% {
				opacity: 0;
			}

			100% {
				opacity: 1;
			}
		}

		/* Internet Explorer */
		@-ms-keyframes fadein {
			0% {
				opacity: 0;
			}

			66% {
				opacity: 0;
			}

			100% {
				opacity: 1;
			}
		}

		/* Opera < 12.1 */
		@-o-keyframes fadein {
			0% {
				opacity: 0;
			}

			66% {
				opacity: 0;
			}

			100% {
				opacity: 1;
			}
		}

		/* LOGO ANIMATION KEYFRAMES*/
		@keyframes expand {
			0% {
				top: 50%;
				opacity: 0;
			}

			30% {
				top: 50%;
				opacity: 1;
			}

			100% {
				top: 15%;
				opacity: 1;
			}
		}

		/* Firefox < 16 */
		@-moz-keyframes expand {
			0% {
				top: 50%;
				opacity: 0;
			}

			30% {
				top: 50%;
				opacity: 1;
			}

			100% {
				top: 15%;
				opacity: 1;
			}
		}

		/* Safari, Chrome and Opera > 12.1 */
		@-webkit-keyframes expand {
			0% {
				top: 50%;
				opacity: 0;
			}

			30% {
				top: 50%;
				opacity: 1;
			}

			100% {
				top: 15%;
				opacity: 1;
			}
		}

		/* Internet Explorer */
		@-ms-keyframes expand {
			0% {
				top: 50%;
				opacity: 0;
			}

			30% {
				top: 50%;
				opacity: 1;
			}

			100% {
				top: 15%;
				opacity: 1;
			}
		}

		/* Opera < 12.1 */
		@-o-keyframes expand {
			0% {
				top: 50%;
				opacity: 0;
			}

			30% {
				top: 50%;
				opacity: 1;
			}

			100% {
				top: 15%;
				opacity: 1;
			}
		}


		#bgmusic {
			display: none;
		}

		.icons>div {
			vertical-align: top;
			display: inline-block;
			margin-right: 2em;
			margin-left: 2em;
			margin-top: 10px;
		}

		.icons {
			margin-top: 10px;
			border-radius: .5em;
			background-color: rgba(0, 0, 0, 0.7);
			padding: 5px;
			box-shadow: 0 0 8px #000;
			text-align: center;
			-webkit-animation: fadein 5s;
			/* Safari, Chrome and Opera > 12.1 */
			-moz-animation: fadein 5s;
			/* Firefox < 16 */
			-ms-animation: fadein 5s;
			/* Internet Explorer */
			-o-animation: fadein 5s;
			/* Opera < 12.1 */
			animation: fadein 5s;
		}

		.icons img {
			filter: url("data:image/svg+xml;utf8,<svg xmlns=\'http://www.w3.org/2000/svg\'><filter id=\'grayscale\'><feColorMatrix type=\'matrix\' values=\'0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0\'/></filter></svg>#grayscale");
			/* Firefox 10+, Firefox on Android */
			-webkit-filter: grayscale(100%);
			-moz-filter: grayscale(100%);
			-ms-filter: grayscale(100%);
			filter: grayscale(100%);
			filter: rgb(207, 207, 207);
			/* IE 6-9 */
			display: inline-block;
			width: 50px;
			margin-top: 0px;
			-webkit-transition: all 200ms linear;
			-moz-transition: all 200ms linear;
			-ms-transition: all 200ms linear;
			-o-transition: all 200ms linear;
			transition: all 200ms linear;
		}

		.icons img:hover {
			-webkit-filter: none;
			-moz-filter: none;
			-ms-filter: none;
			filter: none;
		}
		.bi-discord{
			-webkit-transition: all 200ms linear;
			-moz-transition: all 200ms linear;
			-ms-transition: all 200ms linear;
			-o-transition: all 200ms linear;
			transition: all 200ms linear;
		}
		.bi-discord:hover {
			fill: #7289DA;
		}
		.bi-youtube{
			-webkit-transition: all 200ms linear;
			-moz-transition: all 200ms linear;
			-ms-transition: all 200ms linear;
			-o-transition: all 200ms linear;
			transition: all 200ms linear;
		}
		.bi-youtube:hover {
			fill: #c4302b;
		}
		.bi-kanban{
			-webkit-transition: all 200ms linear;
			-moz-transition: all 200ms linear;
			-ms-transition: all 200ms linear;
			-o-transition: all 200ms linear;
			transition: all 200ms linear;
		}
		.bi-kanban:hover {
			fill: #0079bf;
		}

		#loadtime {
			margin-top: 10px;
			border-radius: .5em;
			background-color: rgba(0, 0, 0, 0.7);
			padding: 5px;
			box-shadow: 0 0 8px #000;
			text-align: center;
			-webkit-animation: fadein 5.5s;
			/* Safari, Chrome and Opera > 12.1 */
			-moz-animation: fadein 5.5s;
			/* Firefox < 16 */
			-ms-animation: fadein 5.5s;
			/* Internet Explorer */
			-o-animation: fadein 5.5s;
			/* Opera < 12.1 */
			animation: fadein 5.5s;
		}

		#background-container {
			height: 100%;
			width: 100%;
			background-color: rgba(0, 0, 0, 0.1);
			display: flex;
			background-repeat: no-repeat;
			background-size: cover;
			z-index: -999;
		}

		.video-container {
			position: absolute;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			overflow: hidden;
			background-color: #000;
		}

		.video-container video {
			min-width: 100%;
			min-height: 100%;
			position: absolute;
			top: 50%;
			left: 50%;
			transform: translate(-50%, -50%);
			object-fit: cover;
		}

		.video-container:after {
			content: '';
			z-index: 0;
			height: 100%;
			width: 100%;
			top: 0;
			left: 0;
			background: rgba(0, 0, 0, 0.4);
			position: absolute;
		}
	</style>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
</head>

<body>
	<div style="position: fixed; z-index: -99; width: 100%; height: 100%">
		<div id="bgmusic"></div>
		<!-- https://youtu.be/fsnZpUXCUt4?list=PL26y6a0sSX_B-l8ccARWgYP3nw3NKHzSF&t=1726 -->
		<!-- <iframe frameborder="0" height="100%" width="100%" border="0" src="https://youtube.com/embed/fsnZpUXCUt4?t=1726&autoplay=1&controls=0&showinfo=0&autohide=1"></iframe> -->
		<!-- <iframe name="bgmusic" "frameborder="0" height="0px" width="0px" border="0"></iframe> -->
	</div>
	<!-- <div class="background-container"></div> -->
	<div class="video-container">
		<video src="/assets/latest.mp4" autoplay muted loop></video>
	</div>

	<div id='logo-container'>
	</div>

	<div id="main-container">

		<div class='gradient-box-container'>
			<div id='rules-div' class='gradient-box'>
				<table class="rules-table">
					<tr>
						<td style="text-align:top;">
							<ul>
								<li>No deathmatching/random killing</li>
								<li>Respect other players</li>
								<li>No advertising/spamming</li>
							</ul>
						</td>
						<td>
							<ul>
								<li>No cheating/illegal advantage</li>
								<li>Do not quit to avoid anything</li>
								<li>Read <b>
										<font color='#FFFF00'>/rules</font>
									</b> and <b>
										<font color='#FFFF00'>/faq</font>
									</b></li>
							</ul>
						</td>
					</tr>
				</table>
			</div>
		</div>
		<div id="AlertWrapper" class="AlertWrapper" style="--d:50px;--angle:-30deg;--sinus:0.5;">
			<div class="AlertContent">
				<br><b>
					<font color='#FFFF00'>Open Beta Disclaimer</font><br><br>
					Please note that the current iteration of the game mode is still in development, and the current
					features may not be final and are subject to change. The feedback from the community is
					welcome!
					<br><br>
					<i>Welcome and have fun!</i>
				</b><br><br>
			</div>
		</div>
		<div class="icons">

			<div class="cnr">
				<a href="https://cnr.ng/"  target="_blank"><img src="imgs/nglogo.png"></img></a>
			</div>

			<div class="icondiv">
				<a href="https://cnr.ng/discord"  target="_blank"><svg xmlns="http://www.w3.org/2000/svg" width="40"
						height="40" fill="white" class="bi bi-discord" viewBox="0 0 16 16">
						<path
							d="M13.545 2.907a13.227 13.227 0 0 0-3.257-1.011.05.05 0 0 0-.052.025c-.141.25-.297.577-.406.833a12.19 12.19 0 0 0-3.658 0 8.258 8.258 0 0 0-.412-.833.051.051 0 0 0-.052-.025c-1.125.194-2.22.534-3.257 1.011a.041.041 0 0 0-.021.018C.356 6.024-.213 9.047.066 12.032c.001.014.01.028.021.037a13.276 13.276 0 0 0 3.995 2.02.05.05 0 0 0 .056-.019c.308-.42.582-.863.818-1.329a.05.05 0 0 0-.01-.059.051.051 0 0 0-.018-.011 8.875 8.875 0 0 1-1.248-.595.05.05 0 0 1-.02-.066.051.051 0 0 1 .015-.019c.084-.063.168-.129.248-.195a.05.05 0 0 1 .051-.007c2.619 1.196 5.454 1.196 8.041 0a.052.052 0 0 1 .053.007c.08.066.164.132.248.195a.051.051 0 0 1-.004.085 8.254 8.254 0 0 1-1.249.594.05.05 0 0 0-.03.03.052.052 0 0 0 .003.041c.24.465.515.909.817 1.329a.05.05 0 0 0 .056.019 13.235 13.235 0 0 0 4.001-2.02.049.049 0 0 0 .021-.037c.334-3.451-.559-6.449-2.366-9.106a.034.034 0 0 0-.02-.019Zm-8.198 7.307c-.789 0-1.438-.724-1.438-1.612 0-.889.637-1.613 1.438-1.613.807 0 1.45.73 1.438 1.613 0 .888-.637 1.612-1.438 1.612Zm5.316 0c-.788 0-1.438-.724-1.438-1.612 0-.889.637-1.613 1.438-1.613.807 0 1.451.73 1.438 1.613 0 .888-.631 1.612-1.438 1.612Z" />
					</svg></a>
			</div>

			<div class="icondiv">
				<a href="https://cnr.ng/youtube"  target="_blank"><svg
						xmlns="http://www.w3.org/2000/svg" width="40" height="40" fill="white" class="bi bi-youtube"
						viewBox="0 0 16 16">
						<path
							d="M8.051 1.999h.089c.822.003 4.987.033 6.11.335a2.01 2.01 0 0 1 1.415 1.42c.101.38.172.883.22 1.402l.01.104.022.26.008.104c.065.914.073 1.77.074 1.957v.075c-.001.194-.01 1.108-.082 2.06l-.008.105-.009.104c-.05.572-.124 1.14-.235 1.558a2.007 2.007 0 0 1-1.415 1.42c-1.16.312-5.569.334-6.18.335h-.142c-.309 0-1.587-.006-2.927-.052l-.17-.006-.087-.004-.171-.007-.171-.007c-1.11-.049-2.167-.128-2.654-.26a2.007 2.007 0 0 1-1.415-1.419c-.111-.417-.185-.986-.235-1.558L.09 9.82l-.008-.104A31.4 31.4 0 0 1 0 7.68v-.123c.002-.215.01-.958.064-1.778l.007-.103.003-.052.008-.104.022-.26.01-.104c.048-.519.119-1.023.22-1.402a2.007 2.007 0 0 1 1.415-1.42c.487-.13 1.544-.21 2.654-.26l.17-.007.172-.006.086-.003.171-.007A99.788 99.788 0 0 1 7.858 2h.193zM6.4 5.209v4.818l4.157-2.408L6.4 5.209z" />
					</svg></a>
			</div>

			<div class="icondiv">
				<a href="https://cnr.ng/roadmap"  target="_blank"><svg
						xmlns="http://www.w3.org/2000/svg" width="35" height="35" fill="white" class="bi bi-kanban"
						viewBox="0 0 16 16">
						<path
							d="M13.5 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1h-11a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h11zm-11-1a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h11a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2h-11z" />
						<path
							d="M6.5 3a1 1 0 0 1 1-1h1a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1h-1a1 1 0 0 1-1-1V3zm-4 0a1 1 0 0 1 1-1h1a1 1 0 0 1 1 1v7a1 1 0 0 1-1 1h-1a1 1 0 0 1-1-1V3zm8 0a1 1 0 0 1 1-1h1a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1h-1a1 1 0 0 1-1-1V3z" />
					</svg></a>
			</div>

		</div>
		<div id="loadtime">
			Average load time between 00:10 <-> 00:35 secs<br />Your time: [<label id="minutes">00</label>:<label
					id="seconds">00</label>]
		</div>
	</div>
	<span id="namePlaceholder">
		<!--holder-->
	</span>
</body>
<script>
	let PlayerVol;

	function setTime() {
		++totalSeconds;
		secondsLabel.innerHTML = pad(totalSeconds % 60);
		minutesLabel.innerHTML = pad(parseInt(totalSeconds / 60));
	}

	function pad(val) {
		var valString = val + "";
		if (valString.length < 2) {
			return "0" + valString;
		} else {
			return valString;
		}
	}

	var minutesLabel = document.getElementById("minutes");
	var secondsLabel = document.getElementById("seconds");
	var totalSeconds = 0;
	setInterval(setTime, 1000);

	var music_bank = ['jqE8M2ZnFL8', 'CJZ0a5WXooQ', 'w4sT7sHMeCw', 'D3Lvm1tv1mE', 'Q_5z4n5TZ2Q', 'OyHddNCbBfY', '6VewzN781wQ', 'qJlGXlNgtok', 'lv6mWA7OQiM', 'uv2dQwm9F4U', 'cETBCvKnu0Q', 'ArA3bkumvoI', 'urm2W7RsvPM', 'F2_pg8xd1To', '5qM5zGXWw60, Kam8XAeDvVU', 'lal3nu4QUHk'];
	var start_times = [0, 0, 0, 10, 27, 0, 18, 22, 30, 16, 8, 80, 0, 122, 70, 0, 0];
	var randIdx = Math.floor(Math.random() * music_bank.length);
	var music_selected = music_bank[randIdx];
	var start_time = start_times[randIdx];

	$(function () {

		//$('#gradient-backdrop').html('<div class="cnrnglogo"></div>');	
		$('#logo-container').html('<div class="cnrnglogo"></div>');
		$('.cnrnglogo').css({ "background": "url(./imgs/logos/logo" + Math.floor(Math.random() * 8) + ".png) no-repeat", "background-size": "contain" });
		// $('html').css({"background-image":"url(./imgs/backgrounds/bg"+Math.floor(Math.random() * 7)+".jpg)"});
		// $('#bgmusic').html('<iframe name="player" id="player" frameborder="0" height="1px" width="1px" border="0" src="https://youtube.com/embed/'+music_selected+'?&autoplay=1&controls=0&showinfo=0&autohide=1&enablejsapi=1&origin=http://127.0.0.1:5500" allow="autoplay"></iframe>');

		let degrees = 0;
		runner = setInterval(function () {
			degrees = degrees + 10;
			if (degrees >= 355) { degrees = 0; }
			$('.gradient-box-container').css({ "background-image": "repeating-linear-gradient(" + degrees + "deg, #413644 -18%,#4e4e4e -23%, #ff0000 25%, #0089ff 63%, #4E4E4F 90%)" });
		}, 90)
	});

	var tag = document.createElement('script');

	tag.src = "https://www.youtube.com/iframe_api";
	var firstScriptTag = document.getElementsByTagName('script')[0];
	firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

	var player;
	function onYouTubeIframeAPIReady() {
		player = new YT.Player('bgmusic', {
			width: 1280,
			height: 720,
			videoId: music_selected,
			startSeconds: start_time,
			playerVars: { 'autoplay': 1 },
			events: {
				'onReady': onPlayerReady,
				'onStateChange': onPlayerStateChange,
				'onError': onPlayerError
			}
		});
	}

	function onPlayerStateChange() {

	}

	function onPlayerError() {
	}

	function convertVolume(PlayerVol) {
		var VolMax = 1.0;
		return Math.floor((PlayerVol / VolMax) * 100);
	}

	function onPlayerReady(event) {
		/*$.getJSON('https://cnr.ng/calls/playervolume.php?username='+ window.nuiHandoverData.name, function(data) {
			//document.querySelector('#namePlaceholder').innerText = `Player: ${window.nuiHandoverData.name}<br /> Vol: ${data.UserVolume}<br />`;
			var ConVol = convertVolume(data.UserVolume);
			console.log(`Player: ${window.nuiHandoverData.name} - Vol: ${data.UserVolume} - ConVol: ${ConVol}%`);
			event.target.setVolume(ConVol);
			event.target.seekTo(start_time);
			event.target.playVideo();
			console.log('Current Music Vol: '+event.target.getVolume()); // Shows 100% everytime
		});*/
		event.target.setVolume(20);
		event.target.seekTo(start_time);
		event.target.playVideo();
	}

	/*window.addEventListener('DOMContentLoaded', () => {
		console.log(`You are connecting to ${window.nuiHandoverData.serverAddress}`);
		PlayerNick = window.nuiHandoverData.name;
	});*/
</script>

</html>